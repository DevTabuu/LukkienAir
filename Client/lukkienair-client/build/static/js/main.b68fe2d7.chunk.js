(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),o=n.n(i),c=n(1),l=n(2),u=n(5),s=n(3),m=n(4),h=(n(17),n(9)),d=n(10),f=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"makeRequest",value:function(e){return new Promise(function(t,n){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onreadystatechange=function(e){if(4===a.readyState){var n=a.responseText,r=[];try{r=JSON.parse(n)}catch(i){}t(r)}},a.send()})}},{key:"flights",value:function(e,t,n,a,r){return this.makeRequest("/api/flights?originId=".concat(e,"&destinationId=").concat(t,"&costMin=").concat(n,"&costMax=").concat(a,"&departureDate=").concat(r))}},{key:"destinations",value:function(){return this.makeRequest("/api/destinations")}},{key:"getRouteFromId",value:function(e){return this.makeRequest("/api/routes/".concat(e))}},{key:"getDestinationFromId",value:function(e){return this.makeRequest("/api/destinations/".concat(e))}}]),e}(),p=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).client=new f,n.state={originName:n.props.flight.route.origin.name,destinationName:n.props.flight.route.destination.name},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,[r.a.createElement("td",{key:"0"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.duckduckgo.com?q=flight+from+".concat(this.props.flight.route.origin.name,"+to+").concat(this.props.flight.route.destination.name)},this.props.flight.id)),r.a.createElement("td",{key:"1"},this.props.flight.route.origin.name),r.a.createElement("td",{key:"2"},this.props.flight.route.destination.name),r.a.createElement("td",{key:"3"},this.dateString(this.formattedDate(this.props.flight.departureTime))),r.a.createElement("td",{key:"4"},this.timeString(this.formattedDate(this.props.flight.departureTime))),r.a.createElement("td",{key:"5"},this.minuteFormat(this.props.flight.route.duration)),r.a.createElement("td",{key:"6"},"\u20ac ",this.props.flight.cost.toFixed(2))])}},{key:"dateString",value:function(e){return"".concat(this.numberFormat(e.getDate()),"-").concat(this.numberFormat(e.getMonth()),"-").concat(e.getFullYear())}},{key:"timeString",value:function(e){return"".concat(this.numberFormat(e.getHours()),":").concat(this.numberFormat(e.getMinutes()))}},{key:"formattedDate",value:function(e){var t=e.split(/[-T:+]/);return Object(h.a)(Date,Object(d.a)(t))}},{key:"numberFormat",value:function(e){return("0"+e).slice(-2)}},{key:"minuteFormat",value:function(e){var t=Math.floor(e/60),n=e%60;return this.numberFormat(t)+":"+this.numberFormat(n)}}]),t}(a.Component),g=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Flight ID"),r.a.createElement("th",null,"From"),r.a.createElement("th",null,"To"),r.a.createElement("th",null,"Date (dd-mm-yyyy)"),r.a.createElement("th",null,"Departing Time (24h)"),r.a.createElement("th",null,"Flight Duration (hh:MM)"),r.a.createElement("th",null,"Price")),this.props.flights.map(function(e){return r.a.createElement(p,{key:e.id,flight:e})})))}}]),t}(a.Component),E=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("select",{id:this.props.id,ref:function(t){return e.selector=t}},r.a.createElement("option",{value:"-1"},"None"),this.props.destinations.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))}}]),t}(a.Component),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleSubmit=function(e){n.client.flights(n.originElement.selector.value,n.destinationElement.selector.value,n.minElement.value,n.maxElement.value,n.dateElement.value).then(function(e){return n.setState({flights:e})})},n.client=new f,n.state={flights:[],destinations:[]},n.client.destinations().then(function(e){return n.setState({destinations:e})}),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"form"},r.a.createElement("label",{htmlFor:"origin"},"From"),r.a.createElement(E,{id:"origin",destinations:this.state.destinations,ref:function(t){return e.originElement=t}}),r.a.createElement("label",{htmlFor:"destination"},"To"),r.a.createElement(E,{id:"destination",destinations:this.state.destinations,ref:function(t){return e.destinationElement=t}}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"departureDate"},"Departure Date"),r.a.createElement("input",{id:"departureDate",ref:function(t){return e.dateElement=t},type:"date",name:"departureDate"}),r.a.createElement("br",null),r.a.createElement("input",{id:"costMin",ref:function(t){return e.minElement=t},type:"number",placeholder:"Minimum Price",name:"costMin"}),r.a.createElement("input",{id:"costMax",ref:function(t){return e.maxElement=t},type:"number",placeholder:"Maximum Price",name:"costMax"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Search...",onClick:this.handleSubmit})),r.a.createElement(g,{flights:this.state.flights}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.b68fe2d7.chunk.js.map